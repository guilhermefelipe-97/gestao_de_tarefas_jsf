<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core">

<h:head>
    <title>Editar Tarefa</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" 
          rel="stylesheet" 
          integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" 
          crossorigin="anonymous" />
    <h:outputStylesheet library="css" name="style.css" />
</h:head>

<h:body>
    <div class="container">
        <h:form id="formTarefa" class="form m-4">
        	<h1 class="h1 text-center">Gerenciador de Tarefas JSF</h1>
			<p class="text-center fw-bold">Editar Tarefas</p>
            <h:inputHidden value="#{tarefaBean.tarefa.id}" />

            <h:outputText value="Título:" />
            <h:inputText class="form-control" id="campoTitulo" 
                value="#{tarefaBean.tarefa.titulo}" 
                required="true" 
                requiredMessage="Título obrigatório!"/><br/>
            
            <h:outputText value="Descrição:" />
            <h:inputText class="form-control" id="campoDescricao" 
                value="#{tarefaBean.tarefa.descricao}" 
                required="true" 
                requiredMessage="Descrição obrigatória!"/><br/>
            
            <h:outputText value="Responsável:" />
            <h:selectOneMenu id="campoResponsavel" 
                value="#{tarefaBean.tarefa.responsavel}" 
                styleClass="form-select"
                required="true" 
                requiredMessage="Selecione um responsável!">
                <f:selectItem itemLabel="Selecione" itemValue="" />
                <f:selectItem itemLabel="João Lopes" itemValue="João Lopes" />
                <f:selectItem itemLabel="Maria Maia" itemValue="Maria Maia" />
                <f:selectItem itemLabel="Rafael Cordeiro" itemValue="Rafael Cordeiro" />
            </h:selectOneMenu>
            <h:message for="campoResponsavel" style="color: red;"/><br/>
            
            <h:outputText value="Prioridade:" />
            <h:selectOneMenu id="campoPrioridade" 
                value="#{tarefaBean.tarefa.prioridade}" 
                styleClass="form-select"
                required="true" 
                requiredMessage="Selecione uma prioridade!">
                <f:selectItem itemLabel="Selecione" itemValue="" />
                <f:selectItem itemLabel="Baixa" itemValue="Baixa" />
                <f:selectItem itemLabel="Média" itemValue="Média" />
                <f:selectItem itemLabel="Alta" itemValue="Alta" />
            </h:selectOneMenu>
            <h:message for="campoPrioridade" style="color: red;"/><br/>
            
            <h:outputText value="Deadline (Formato livre):" />
            <h:inputText class="form-control" id="campoDeadline" 
                value="#{tarefaBean.tarefa.deadline}"
                required="true" 
                requiredMessage="Deadline obrigatório!"/><br/>
            <h:message for="campoDeadline" style="color: red;"/>

            <div style="margin-bottom: 15px;">
                <h:commandButton class="btn btn-primary w-100" value="Atualizar" 
                    action="#{tarefaBean.atualizarTarefa}"/>
            </div>
            
            <h:button class="btn btn-secondary w-100" value="Voltar" 
                outcome="segundapagina" immediate="true"/>
            
            <h:messages style="color: red;"/>
        </h:form>    
    </div>
</h:body>
</html>